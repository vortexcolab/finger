!function(){if(window.addEventListener("resize",x),void 0!==window.matchMedia){var u=_();try{u.addEventListener("change",n)}catch(t){u.addListener(n)}}var h=_el("#dns-test"),r=(h.classList.add("load-td"),h.style.paddingLeft="140px",2),p={},v=[],b=[],g=0,m=0,w=0,y=!0;function a(t,n,e){t=_el(t),1<n?(t.style.cursor="pointer",t.title="Sort by "+e):t.style.cursor="initial"}function L(t){return t.replace(/[:.]/g,"-")}function _(){return window.matchMedia("(max-width:740px)")}function n(){_els(".dns-table-in tr").forEach(function(t){var n=_el(".dns-col-isp",t),t=_el(".dns-col-ip",t);u.matches?n.insertAdjacentElement("afterend",t):t.insertAdjacentElement("afterend",n)})}function x(){for(var t,n,e=1;e<4;e++)t=_el(".dns-th:nth-child("+e+")"),n=_el(".dns-td:nth-child("+e+")"),t&&n&&(t.style.width=window.getComputedStyle(n).width)}function A(t){var n,e=function(t){for(var n,e,r=[],s=[],o=0;o<t.length;o++){var a=t[o];if(-1===a.indexOf(":")){for(n=a.split("."),e=0;e<n.length;e++)n[e]=parseInt(n[e]);r.push({o:a,p:n})}else{for(n=a.split(":"),e=0;e<n.length;e++)n[e]=parseInt(n[e],16);s.push({o:a,p:n})}}function i(t,n){for(var e=0;e<t.p.length;e++)if(t.p[e]!==n.p[e])return t.p[e]-n.p[e];return 0}r.sort(i),s.sort(i);for(var d=[],o=0;o<r.length;o++)d.push(r[o].o);for(o=0;o<s.length;o++)d.push(s[o].o);return d}(Object.keys(t)),r={},s={};for(n in e)-1!==e[n].indexOf(":")?s[e[n]]=t[e[n]]:r[e[n]]=t[e[n]];if("function"==typeof Object.assign)return Object.assign(r,s);var o,a={};for(o in r)a[o]=r[o];for(o in s)a[o]=s[o];return a}function j(t){return Object.keys(t).length}setTimeout(function(){for(var e=[],t=0;t<50;t++)e[t]=function(){var t=window.crypto||window.msCrypto;void 0!==t&&(Math.random=function(){return t.getRandomValues(new Uint32Array(1))[0]/4294967296});for(var n="",e="abcdefghijklmnopqrstuvwxyz0123456789",r=e.length,s=0;s<16;s++)n+=e.charAt(Math.floor(Math.random()*r));return n}()+".dns"+(t%2==0?"4":"6");var n=Array.from({length:15},function f(){var t,n;return 0<e.length?(t=e.shift(),n=0<r?"net":"org",r--,fetch("https://"+t+".browserleaks."+n).then(function(t){return t.json()}).then(function(t){if(t=function(t){var n,e={};for(n in t)"error"==n||p[n]||(p[n]=t[n],e[n]=t[n]);return 0<j(e)&&e}(t)){var n,e,r,s,o,a=Object.keys(A(p)),i=A(t),d=(g=j(p),y&&(t='<td class="dns-th dns-th-isp dns-col-isp br" data-sort>ISP :</td>',e='<td class="dns-th dns-th-ip dns-col-ip br" data-sort="data-number">IP Address :</td>',n='<tbody class="dns-tbody-before"><tr>',u.matches?n+=t+e:n+=e+t,n+='<td class="dns-th dns-th-location responsive-hide-740" data-sort>Location :</td></tr></tbody><tbody id="dns-list"></tbody>',(e=_el("#dns-container")).classList.add("td-out"),e.innerHTML='<table class="dns-table-in">'+n+"</table>",e.parentElement.classList.remove("n")),_el("#dns-list")),l="",c=_();for(r in i)v[i[r][2]]=1,b[i[r][1]]=1,l='<tr class="dns-'+L(r)+'">',s='<td class="dns-td dns-col-ip br">'+flagBox(i[r][0].toUpperCase(),r,!0)+"</td>",o='<td class="dns-td dns-col-isp br wball">'+i[r][2]+"</td>",c.matches?l+=o+s:l+=s+o,l=l+('<td class="dns-td responsive-hide-740">'+i[r][1])+"</td></tr>",y?d.insertAdjacentHTML("beforeend",l):(s=a.indexOf(r),(o=a[s-1])?_el(".dns-"+L(o)).insertAdjacentHTML("afterend",l):d.insertAdjacentHTML("afterbegin",l));m=j(v),w=j(b),t="Found "+g+" Server"+(1<g?"s":"")+", "+m+" ISP, "+w+" Location"+(1<w?"s":""),h.textContent=t,_els("#dns-list tr td:first-child").forEach(function(t){var n=t.textContent.trim();-1<(n=a.indexOf(n))&&t.setAttribute("data-sort-value",n)}),x(),y=!1}return f()}).catch(function(t){return f()})):Promise.resolve()});Promise.all(n).then(function(){if(h.classList.remove("load-td"),h.style.paddingLeft="",!(0<Object.keys(p).length))throw new Error;function s(t,n,e,r){for(var s=t.rows,o=_els("td",s[0]),a=(null==r&&(r="asc"===o[n].dataset.sortActive?"desc":"asc"),"data"===e.substring(0,4)),i="number"===e.slice(-6),d=[],l=1;l<s.length;l++){var c=_els("td",s[l])[n],c=a?c.dataset.sortValue:c.innerText.trim().toLowerCase();i&&(c=parseFloat(c)||0),d.push({value:c,row:s[l]})}for(d.sort(function(t,n){return t=i?t.value-n.value:(""+t.value).localeCompare(""+n.value),"desc"===r?t:-t}),d.forEach(function(t){t.row.parentNode.insertBefore(t.row,s[0].nextSibling)}),l=0;l<o.length;l++)o[l].dataset.sortActive=void 0;o[n].dataset.sortActive=r}var o;a(".dns-th-ip",g,"IP"),a(".dns-th-isp",m,"ISP"),a(".dns-th-location",w,"Location"),o=_el(".dns-table-in"),_els("[data-sort]",o).forEach(function(n,e){var r=n.dataset.sort,t=n.dataset.sortAuto;n.onclick=function(t){t.target===n&&s(o,e,r)},t&&s(o,e,r,t)})}).catch(function(){h.textContent="Test Error"})},50)}();